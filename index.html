<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Заказная разработка в Контуре</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
</head>
<body class="shower list">
	<header class="caption" id="info">
		<h1>Заказная разработка в Контуре</h1>
		<p>Антон Рычков</p>
		<style>
			#info h1 {
				color: #EEE
				}
			#info p {
				color: #EEE
				}
		</style>
	</header>

	<section class="slide" id="zbs">
		<h2 style="margin-top:150px; font-size:90px">Контур.ЗБС</h2>
	</section>

	<section class="slide" id="whats-new">
		<h2 style="margin-top:150px; font-size:70px">Что изменилось за полгода?</h2>
	</section>

	<section class="slide" id="whats-new-1">
		<h2 style="margin-bottom:60px">Обновили команду</h2>
		<table>
			<tr>
	    	<td><p>15.06.2016</p></td>
	    	<td><p>21.12.2016</p></td>
			</tr>
		</table>
		<table>
			<tr>
		    <td>
					<div>
						<p>разработчики</p>
						<img src="pictures/photos/1.png">
						<img src="pictures/photos/2.png">
						<img src="pictures/photos/3.png">
						<img src="pictures/photos/5.png">
					</div>
				</td>
				<td>
					<div>
						<p>разработчики</p>
						<img src="pictures/photos/1.png" style="margin-left: 20px">
						<img src="pictures/photos/2.png">
						<img src="pictures/photos/10.png">
						<img src="pictures/photos/5.png">
					</div>
		    </td>
		  </tr>
		</table>
		<table>
			<tr>
		    <td>
		    	<div style="padding-left: 40px; ">
						<p>аналитик</p>
						<img src="pictures/photos/7.png">
					</div>
				</td>
				<td>
					<div style="padding-left: 10px;">
						<p>тестировщик</p>
						<img src="pictures/photos/4.png">
					</div>
				</td>
				<td>
					<div style="padding-right: 40px; margin-left: -10px;">
						<p>менеджер</p>
						<img src="pictures/photos/6.png">
					</div>
				</td>
				<td>
					<div style="padding-left: 30px;">
						<p>аналитик</p>
						<img src="pictures/photos/9.png">
					</div>
				</td>
				<td>
					<div style="padding-right: 20px;">
						<p>тестировщик</p>
						<img src="pictures/photos/4.png">
					</div>
				</td>
				<td>
					<div>
						<p>менеджер</p>
						<img src="pictures/photos/8.png">
					</div>
				</td>
			</tr>
		</table>

		<style>
			#whats-new-1 th {
				text-align: center;
			}

			#whats-new-1 td {
				width: 200px;
			}

			#whats-new-1 p {
				font-size:20px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: center;
				margin-bottom: 0px;
			}

			#whats-new-1 div {
				text-align: center;
			}

			#whats-new-1 img {
				vertical-align: middle;
				margin-bottom: 20px;
				width: 70px;
			}
		</style>
	</section>

	<section class="slide" id="whats-new-2">
		<h2 style="margin-bottom:20px">Запустили банковский портал</h2>
		<img style="width: 790px" src="pictures/images/banks.png">
	</section>

	<section class="slide" id="whats-new-3">
		<h2 style="margin-bottom:20px">Прикрутили <a href="https://github.com/zendesk/samson" target="_blank">Samson</a></h2>
		<img style="width: 790px" src="pictures/images/samson.png">
	</section>

	<section class="slide" id="whats-new-4">
		<h2 style="margin-bottom:20px">UI-тесты начал писать тестировщик</h2>
		<img class="place" style="margin-top:30px;" src="pictures/images/harry.png">
	</section>

	<section class="slide" id="about-feature-tests">
		<h2 style="margin-top:150px; font-size:90px">Немного о тестах</h2>
	</section>

	<section class="slide" id="about-feature-tests-1">
		<h2 style="margin-bottom:20px">Для чего?</h2>
		<ul>
      <li>помогают понять, как работает сервис</li>
      <li>уверенность в том, что внесённые изменения не сломают всё</li>
      <li>не нужно проводить регрессионное тестирование руками (ну, почти)</li>
      <li>много js-логики на клиенте, не тестируемой юнит-тестами</li>
      <li>через полгода после сдачи продукта все забывают о том, что понаделали</li>
      <li>возможна ситуация, когда код продукта надо будет отдать заказчику</li>
    </ul>

    <style>
    	#about-feature-tests-1 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 50px;
			}
    </style>
	</section>

	<section class="slide" id="about-feature-tests-2">
		<h2 style="margin-bottom:20px">В какой момент готовы?</h2>
		<ul>
      <li>часто — через день после принятия реквеста</li>
      <li>иногда — во время код-ревью задачи</li>
      <li>редко — до код-ревью</li>
    </ul>
    <h2 style="margin-top:20px">Что покрывают?</h2>
		<ul>
      <li>Всё, что видит и может делать пользователь в браузере</li>
    </ul>

    <style>
    	#about-feature-tests-2 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 30px;
			}
    </style>
	</section>

	<section class="slide" id="about-feature-tests-3">
		<h2 style="margin-bottom:20px">Где бегают?</h2>
		<img style="width: 790px" src="pictures/images/travis.png">
	</section>

	<section class="slide" id="about-feature-tests-4">
		<h2 style="margin-bottom:20px">Количество и время прогона</h2>
		<ul>
      <li>396 сценариев</li>
      <li>≈ 7000 степов</li>
      <li>10-12 минут</li>
    </ul>

    <style>
    	#about-feature-tests-4 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 30px;
			}
    </style>
	</section>

	<section class="slide" id="how-they-works">
		<h2 style="margin-top:150px; font-size:90px">Как устроены</h2>
	</section>

	<section class="slide" id="about-feature-tests-5">
		<h2 style="margin-bottom:20px">Одна фича — один файл со сценариями</h2>
		<img style="width: 790px" src="pictures/images/tests-list.png">
	</section>

	<section class="slide" id="about-feature-tests-6">
		<h2 style="margin-bottom:20px">Scenario</h2>
		<img  style="width: 790px" src="pictures/images/scenario.png">
	</section>

	<section class="slide" id="about-feature-tests-7">
		<h2 style="margin-bottom:20px">Scenario outline</h2>
		<img  style="width: 790px" src="pictures/images/scenario-outline.png">
	</section>

	<section class="slide" id="about-feature-tests-8">
		<h2 style="margin-bottom:20px">Step definitions</h2>
		<img  style="width: 790px" src="pictures/images/steps.png">
	</section>

	<section class="slide" id="about-feature-tests-9">
		<h2 style="margin-bottom:20px">Подготовка данных</h2>
		<img  style="width: 790px" src="pictures/images/background.png">
	</section>

	<section class="slide" id="about-feature-tests-10">
		<h2 style="margin-bottom:20px">Под капотом <a href="https://github.com/thoughtbot/factory_girl" target="_blank">Factory Girl</a></h2>
		<img  style="width: 790px" src="pictures/images/factories_steps.png">
	</section>

	<section class="slide" id="about-feature-tests-11">
		<h2 style="margin-bottom:20px">Артефакты тестов падают в AWS S3</h2>
		<img  style="width: 790px" src="pictures/images/fail-tests-artifacts.png">
	</section>

	<section class="slide" id="about-feature-tests-12">
		<h2 style="margin-bottom:20px">HTML страницы</h2>
		<img  style="width: 790px" src="pictures/images/fail-tests-artifacts-html.png">
	</section>

	<section class="slide" id="about-feature-tests-13">
		<h2 style="margin-bottom:20px">Скриншот страницы</h2>
		<img  style="width: 790px" src="pictures/images/fail-tests-artifacts-image.png">
	</section>

	<section class="slide" id="about-feature-tests-14">
		<h2 style="margin-bottom:20px">Что ещё...</h2>
		<ul>
      <li>в качестве локаторов элементов используются специальные классы</li>
      <li>в зависимости от задачи разработчики сами изменяют тесты</li>
      <li>разработчики проводят ревью тестов</li>
      <li>после каждого прогона база очищается</li>
      <li>приложение не ходит наружу (только в AWS)</li>
      <li>никаких wait/sleep</li>
    </ul>

    <style>
    	#about-feature-tests-14 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 30px;
			}
    </style>
	</section>

	<section class="slide" id="instruments-1">
		<h2 style="margin-bottom:20px">Инструменты</h2>
		<ul>
      <li>Браузер: <a href="http://phantomjs.org/" target="_blank">Фантом</a></li>
      <li>Драйвер к браузеру: <a href="https://github.com/teampoltergeist/poltergeist" target="_blank">Полтергейст</a></li>
      <li>Фреймворк: <a href="http://teamcapybara.github.io/capybara/" target="_blank">Свинка</a></li>
      <li>Описание сценариев: <a href="http://cucumber.io/" target="_blank">Огурец</a></li>
    </ul>

    <style>
    	#instruments-1 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 30px;
			}
    </style>
	</section>

  <section class="slide" id="problems">
		<h2 style="margin-top:150px; font-size:90px">Проблемы</h2>
	</section>

	<section class="slide" id="problems-1">
		<h2 style="margin-top:-80px; color: black; font-size:40px">Реакт-компоненты появились, но еще не работают. Тесты торопятся с кликом. Не надо торопиться</h2>
		<img  class="cover w" src="pictures/images/sloth.jpg">
	</section>

	<section class="slide" id="problems-1-1">
		<h2 style="margin-bottom:20px">Решение</h2>
		<pre style="padding-top:100px;"><code>$(document).on('components-ready', function() {
      $(document.body).<mark>addClass('cc-page-ready');</mark>
		</code></pre>
	</section>

	<section class="slide" id="problems-2">
		<h2 style="margin-bottom:20px">Скролл, анимация — элементы меняют координаты</h2>
		<img  style="width: 790px; padding-left:90px" src="pictures/images/tricky-button.gif">
	</section>

	<section class="slide" id="simpleman">
		<img  class="cover w" src="pictures/images/simple-man.png">
	</section>

	<section class="slide" id="problems-2-1">
		<h2 style="margin-bottom:20px"><a href="http://marcgg.com/blog/2015/01/05/css-animations-failing-capybara-specs/" target="_blank">Решение</a></h2>
		<pre><code> transition-property: none !important;
 -o-transition-property: none !important;
 -moz-transition-property: none !important;
 -ms-transition-property: none !important;
 -webkit-transition-property: none !important;

 transform: none !important;
 -o-transform: none !important;
 -moz-transform: none !important;
 -ms-transform: none !important;
 -webkit-transform: none !important;

 animation: none !important;
 -o-animation: none !important;
 -moz-animation: none !important;
 -ms-animation: none !important;
 -webkit-animation: none !important;
		</code></pre>

		<style>
			#problems-2-1 pre {
				padding-top:10px;
				margin-bottom:0px
			}
			#problems-2-1 pre code {
				line-height:1;
			}
    </style>
	</section>

	<section class="slide" id="whats-next">
		<h2 style="margin-top:150px; font-size:70px">Что дальше?</h2>
	</section>

  <section class="slide" id="shuvalov">
    <img class="cover h" src="pictures/images/shuvalov.png">
  </section>

	<section class="slide" id="whats-next-1">
		<h2 style="margin-bottom:70px">Хочется</h2>
		<ul>
      <li>ускорить тесты</li>
      <li>писать сценарии до реквеста и отдавать разработчику</li>
    </ul>

    <style>
    	#whats-next-1 ul {
				font-size:30px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
				margin-top: 30px;
			}
    </style>
	</section>

	<section class="slide" id="whats-next-2">
		<h2 style="margin-bottom:20px">Возможно, внедрить <a href="https://percy.io/" target="_blank">Percy</a></h2>
		<img  style="width: 790px" src="pictures/images/percy.png">
	</section>

	<section class="slide" id="FAQ">
		<h2 style="margin-bottom:20px">Ответы на частые вопросы Макса</h2>
		<p style="margin-top: 30px">Сколько возвратов задачи разработчику?</p>
		<p class="answer">Трудно сказать. Наверное, один.</p>
		<p>Есть красные тесты?</p>
		<p class="answer"> Нет</p>
		<p>Тестируете аналитику?</p>
		<p class="answer">Все читают предложенное решение проблемы. Потом совместное обсуждение. Затем я читаю ещё раз.</p>
		<p>Сколько живёт фича до выкладки?</p>
		<p class="answer">Нет точного срока. В среднем недели две.</p>

		<style>
    	#FAQ p {
				font-size:20px;
				color: #585a5e;
    		font-family: 'PT Sans Narrow', sans-serif;
    		text-align: left;
			}
			#FAQ p.answer {
				background-color: #c4efff
			}
    </style>
	</section>

	<style>
    .slide::after {
      visibility: hidden;
      text-align: center;
    }
  </style>

	<script src="shower/shower.min.js"></script>
	
	<!-- Yandex.Metrika counter --> <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter41764299 = new Ya.Metrika({ id:41764299, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/41764299" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->

</body>
</html>
